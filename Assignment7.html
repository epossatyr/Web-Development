<!doctype html>
<html>
    <head>
        <script>
            window.addEventListener("DOMContentLoaded", function() {
                //document.getElementById("creditForm").style.display = "block";
                //event.preventDefault();
                alert("alert");
                document.creditForm.getElementById("customer").addEventListener("click", function(){
                    
                    document.getElementbyId("creditForm").style.display = "Show";
                    document.getElementById("billForm").style.display = "block";
                });
                document.creditForm.getElementById("submit").addEventListener("click", validate);
                event.preventDefault();
                document.billForm.getElementById("submit").addEventListener("click", validate2);
            });
            //if credit, show credit form (default)
            //if billing, show billing form
            function validate(){ //credit
                event.preventDefault();
                alert("in validate");
                //validate type, month, and year, and card# has 9 digits, and accept box checked
                if(!document.getElementById("agree").checked == true){
                    document.getElementById("agree").focus();
                    break;
                }
                else if(!document.getElementById("cc").checked == true){
                    document.getElementById("cc").focus();
                    break;
                }
                else if(!document.getElementById("num").value.length == 9){
                    document.getElementById("num").focus();
                    break;
                }
                else if(document.getElementById("year") < Date.getFullYear() && document.getElementById("month") < Date.getMonth()){
                    document.getElementById("year").focus();
                    break;
                }
                else
                creditForm.submit();
            }
            function validate2(){
                event.preventDefault();
                alert("in validate2");
                //no empty text fields (name and address) and accept box checked
                if(!document.getElementById("agree").checked){
                    document.getElementById("agree").focus();
                    break;
                }
                else if(document.getElementById("name").value.length < 0){
                    document.getElementById("name").focus();
                    break;
                }
                else if(document.getElementById("address").value.length < 0){
                    document.getElementById("address").focus();
                    break;
                }
                else{
                    billForm.submit();
                }
            }

        </script>
    </head>
    <body>
        <form id=creditForm action="assignment_7_script.php" method="get" onsubmit="myButton.disabled = true; return true;">
                <fieldset>
                    <label for=bill><legend>Billing</legend></label>
                    <input type=radio name=bill value=credit id="credit" checked>Credit card</input>
                    <input type=radio name=bill value=customer id="customer">Bill customer</input>
                </fieldset> <br>
                <input type=checkbox id=agree>Check to agree you understand this is non-refundable.</input>
                <table cellpadding=10px>
                        <tr>
                        <td><label for=cc>Credit card type:</label></td>
                        <td>
                                <select name="cc" id="cc" size=4>
                                    <option value="Visa">Visa</option>
                                    <option value="Mastercard">Mastercard</option>
                                    <option value="American Express">American Express</option>
                                </select>
                        </td>
                        </tr>
                        <tr>
                      <td><label for="num">Card number:</label></td> 
                      <td><input type=text name="num" id="num"></td>
                      </tr>
                      <tr>
                      <td>Expiration date:</td>
                      <td>
                          <select name=month id="month">
                              <option value=jan>January</option>
                              <option value=feb>February</option>
                              <option value=mar>March</option>
                              <option value=apr>April</option>
                              <option value=may>May</option>
                              <option value=jun>June</option>
                              <option value=jul>July</option>
                              <option value=aug>August</option>
                              <option value=sep>September</option>
                              <option value=oct>October</option>
                              <option value=nov>November</option>
                              <option value=dec>December</option>
                          </select>
                              <select name=year id="year">
                              <option value=2010>2010</option>
                              <option value=2011>2011</option>
                              <option value=2012>2012</option>
                              <option value=2013>2013</option>
                              <option value=2014>2014</option>
                              <option value=2015>2015</option>
                              <option value=2016>2016</option>
                              <option value=2017>2017</option>
                              <option value=2018>2018</option>
                              <option value=2019>2019</option>
                              <option value=2020>2020</option>
                              <option value=2021>2021</option>
                          </select></td>
                </table><br>
                
            <input type="submit" /> <input type="reset" />
            </form>
            <form id="billForm" action="assignment_7_script2.php" method="get" style="display: none;">
                <fieldset>
                        <label for=bill><legend>Billing</legend></label>
                        <input type=radio name=bill value=credit id=credit>Credit card</input>
                        <input type=radio name=bill value=customer id="customer" checked>Bill customer</input>
                    </fieldset> <br>
                    <input type=checkbox id=agree>Check to agree you understand this is non-refundable.</input><br><br>
                    <label for=name>Name:</label>
                    <input type=text name=name id=name><br><br>
                    <label for=address>Full Address:</label>
                    <input type=text name=address id=address><br><br>
                    <input type="submit" /> <input type="reset" />
            </form>
    </body>
</html>